{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Knowledge\\\\newfront\\\\mywebapp\\\\src\\\\components\\\\customerForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { TextField, Button, Box, Typography, Snackbar, Alert } from \"@mui/material\";\nimport axios from \"../api/axiosInstance.ts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomerForm = () => {\n  _s();\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [vatNumber, setVatNumber] = useState(\"\");\n  const [dateOfBirth, setDateOfBirth] = useState(\"\");\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: \"\",\n    severity: \"success\"\n  });\n  const {\n    storeId,\n    customerId\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (customerId) {\n      const fetchCustomer = async () => {\n        try {\n          const response = await axios.get(`/stores/${storeId}/customers/${customerId}`);\n          setFirstName(response.data.firstName);\n          setLastName(response.data.lastName);\n          setVatNumber(response.data.vatNumber);\n          setDateOfBirth(response.data.dateOfBirth);\n        } catch (error) {\n          console.error(\"Error fetching customer:\", error);\n          showSnackbar(\"Failed to fetch customer details.\", \"error\");\n        }\n      };\n      fetchCustomer();\n    }\n  }, [storeId, customerId]);\n  const showSnackbar = (message, severity) => {\n    setSnackbar({\n      open: true,\n      message,\n      severity\n    });\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n  const handleSubmit = async () => {\n    const customerData = {\n      firstName,\n      lastName,\n      vatNumber,\n      dateOfBirth\n    };\n    try {\n      if (customerId) {\n        await axios.put(`/stores/${storeId}/customers/${customerId}`, customerData);\n        showSnackbar(\"Customer updated successfully.\", \"success\");\n      } else {\n        await axios.post(`/stores/${storeId}/customers`, customerData);\n        showSnackbar(\"Customer created successfully.\", \"success\");\n      }\n      navigate(`/stores/${storeId}/customers`);\n    } catch (error) {\n      console.error(\"Error saving customer:\", error);\n      showSnackbar(\"Failed to save customer.\", \"error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    mt: 5,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: customerId ? \"Edit Customer\" : \"Add Customer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"First Name\",\n      value: firstName,\n      onChange: e => setFirstName(e.target.value),\n      margin: \"normal\",\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Last Name\",\n      value: lastName,\n      onChange: e => setLastName(e.target.value),\n      margin: \"normal\",\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"VAT Number\",\n      value: vatNumber,\n      onChange: e => setVatNumber(e.target.value),\n      margin: \"normal\",\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Date of Birth\",\n      type: \"date\",\n      value: dateOfBirth,\n      onChange: e => setDateOfBirth(e.target.value),\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true\n      },\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleSubmit,\n      sx: {\n        mt: 2\n      },\n      children: customerId ? \"Save Changes\" : \"Add Customer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 3000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: \"100%\"\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(CustomerForm, \"q4CgPJHANVgkmqVPw1FdoLMyERI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CustomerForm;\nexport default CustomerForm;\nvar _c;\n$RefreshReg$(_c, \"CustomerForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","TextField","Button","Box","Typography","Snackbar","Alert","axios","jsxDEV","_jsxDEV","CustomerForm","_s","firstName","setFirstName","lastName","setLastName","vatNumber","setVatNumber","dateOfBirth","setDateOfBirth","snackbar","setSnackbar","open","message","severity","storeId","customerId","navigate","fetchCustomer","response","get","data","error","console","showSnackbar","handleCloseSnackbar","handleSubmit","customerData","put","post","display","flexDirection","alignItems","mt","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","margin","fullWidth","type","InputLabelProps","shrink","color","onClick","sx","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","width","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Knowledge/newfront/mywebapp/src/components/customerForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { TextField, Button, Box, Typography, Snackbar, Alert } from \"@mui/material\";\r\nimport axios from \"../api/axiosInstance.ts\";\r\n\r\nconst CustomerForm = () => {\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [vatNumber, setVatNumber] = useState(\"\");\r\n    const [dateOfBirth, setDateOfBirth] = useState(\"\"); \r\n    const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n    const { storeId, customerId } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (customerId) {\r\n            const fetchCustomer = async () => {\r\n                try {\r\n                    const response = await axios.get(`/stores/${storeId}/customers/${customerId}`);\r\n                    setFirstName(response.data.firstName);\r\n                    setLastName(response.data.lastName);\r\n                    setVatNumber(response.data.vatNumber);\r\n                    setDateOfBirth(response.data.dateOfBirth); \r\n                } catch (error) {\r\n                    console.error(\"Error fetching customer:\", error);\r\n                    showSnackbar(\"Failed to fetch customer details.\", \"error\");\r\n                }\r\n            };\r\n            fetchCustomer();\r\n        }\r\n    }, [storeId, customerId]);\r\n\r\n    const showSnackbar = (message: string, severity: \"success\" | \"error\") => {\r\n        setSnackbar({ open: true, message, severity });\r\n    };\r\n\r\n    const handleCloseSnackbar = () => {\r\n        setSnackbar({ ...snackbar, open: false });\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        const customerData = { firstName, lastName, vatNumber, dateOfBirth }; \r\n        try {\r\n            if (customerId) {\r\n                await axios.put(`/stores/${storeId}/customers/${customerId}`, customerData);\r\n                showSnackbar(\"Customer updated successfully.\", \"success\");\r\n            } else {\r\n                await axios.post(`/stores/${storeId}/customers`, customerData);\r\n                showSnackbar(\"Customer created successfully.\", \"success\");\r\n            }\r\n            navigate(`/stores/${storeId}/customers`);\r\n        } catch (error) {\r\n            console.error(\"Error saving customer:\", error);\r\n            showSnackbar(\"Failed to save customer.\", \"error\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" mt={5}>\r\n            <Typography variant=\"h4\">{customerId ? \"Edit Customer\" : \"Add Customer\"}</Typography>\r\n            <TextField\r\n                label=\"First Name\"\r\n                value={firstName}\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n                margin=\"normal\"\r\n                fullWidth\r\n            />\r\n            <TextField\r\n                label=\"Last Name\"\r\n                value={lastName}\r\n                onChange={(e) => setLastName(e.target.value)}\r\n                margin=\"normal\"\r\n                fullWidth\r\n            />\r\n            <TextField\r\n                label=\"VAT Number\"\r\n                value={vatNumber}\r\n                onChange={(e) => setVatNumber(e.target.value)}\r\n                margin=\"normal\"\r\n                fullWidth\r\n            />\r\n            <TextField\r\n                label=\"Date of Birth\"\r\n                type=\"date\"\r\n                value={dateOfBirth}\r\n                onChange={(e) => setDateOfBirth(e.target.value)}\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                    shrink: true,\r\n                }}\r\n                fullWidth\r\n            />\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit} sx={{ mt: 2 }}>\r\n                {customerId ? \"Save Changes\" : \"Add Customer\"}\r\n            </Button>\r\n\r\n            <Snackbar\r\n                open={snackbar.open}\r\n                autoHideDuration={3000}\r\n                onClose={handleCloseSnackbar}\r\n                anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n            >\r\n                <Alert onClose={handleCloseSnackbar} severity={snackbar.severity as \"success\" | \"error\"} sx={{ width: \"100%\" }}>\r\n                    {snackbar.message}\r\n                </Alert>\r\n            </Snackbar>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default CustomerForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}