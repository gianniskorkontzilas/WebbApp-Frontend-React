{"ast":null,"code":"import axios, { AxiosHeaders } from 'axios';\nconst axiosInstance = axios.create({\n  baseURL: 'http://localhost:8080/api/'\n});\naxiosInstance.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (!config.headers) {\n    config.headers = new AxiosHeaders();\n  }\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\naxiosInstance.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport default axiosInstance;","map":{"version":3,"names":["axios","AxiosHeaders","axiosInstance","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","response","status","window","location","href"],"sources":["C:/Users/admin/Desktop/Knowledge/newfront/mywebapp/src/api/axiosInstance.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosResponse, AxiosError, InternalAxiosRequestConfig, AxiosHeaders } from 'axios';\r\n\r\nconst axiosInstance: AxiosInstance = axios.create({\r\n  baseURL: 'http://localhost:8080/api/',\r\n});\r\n\r\naxiosInstance.interceptors.request.use(\r\n  (config: InternalAxiosRequestConfig): InternalAxiosRequestConfig => {\r\n    const token = localStorage.getItem('token'); \r\n    \r\n    if (!config.headers) {\r\n      config.headers = new AxiosHeaders();\r\n    }\r\n\r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n\r\n    return config;\r\n  },\r\n  (error: AxiosError): Promise<AxiosError> => Promise.reject(error)\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response: AxiosResponse): AxiosResponse => response,\r\n  (error: AxiosError): Promise<AxiosError> => {\r\n    if (error.response && error.response.status === 401) {\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAA0EC,YAAY,QAAQ,OAAO;AAEjH,MAAMC,aAA4B,GAAGF,KAAK,CAACG,MAAM,CAAC;EAChDC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFF,aAAa,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CACnCC,MAAkC,IAAiC;EAClE,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,IAAI,CAACH,MAAM,CAACI,OAAO,EAAE;IACnBJ,MAAM,CAACI,OAAO,GAAG,IAAIX,YAAY,CAAC,CAAC;EACrC;EAEA,IAAIQ,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUH,KAAK,EAAE;EACrD;EAEA,OAAOD,MAAM;AACf,CAAC,EACAK,KAAiB,IAA0BC,OAAO,CAACC,MAAM,CAACF,KAAK,CAClE,CAAC;AAEDX,aAAa,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,CACpCS,QAAuB,IAAoBA,QAAQ,EACnDH,KAAiB,IAA0B;EAC1C,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;IACnDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;EACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAeX,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}