{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Knowledge\\\\newfront\\\\mywebapp\\\\src\\\\components\\\\customerForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { TextField, Button, Box, Typography } from \"@mui/material\";\nimport axios from \"../api/axiosInstance.ts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomerForm = () => {\n  _s();\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [vatNumber, setvatNumber] = useState(\"\");\n  const [dateOfBirth, setDateOfBirth] = useState(\"\");\n  const {\n    storeId,\n    customerId\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (customerId) {\n      const fetchCustomer = async () => {\n        try {\n          const response = await axios.get(`/stores/${storeId}/customers/${customerId}`);\n          setFirstName(response.data.firstName);\n          setLastName(response.data.lastName);\n          setvatNumber(response.data.vatNumber);\n          setDateOfBirth(response.data.dateOfBirth);\n        } catch (error) {\n          console.error(\"Error fetching customer:\", error);\n        }\n      };\n      fetchCustomer();\n    }\n  }, [storeId, customerId]);\n  const handleSubmit = async () => {\n    const customerData = {\n      firstName,\n      lastName,\n      vatNumber,\n      dateOfBirth\n    };\n    try {\n      if (customerId) {\n        await axios.put(`/stores/${storeId}/customers/${customerId}`, customerData);\n      } else {\n        await axios.post(`/stores/${storeId}/customers`, customerData);\n      }\n      navigate(`/stores/${storeId}/customers`);\n    } catch (error) {\n      console.error(\"Error saving customer:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    mt: 5,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: customerId ? \"Edit Customer\" : \"Add Customer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"First Name\",\n      value: firstName,\n      onChange: e => setFirstName(e.target.value),\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Last Name\",\n      value: lastName,\n      onChange: e => setLastName(e.target.value),\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"vatNumber\",\n      value: vatNumber,\n      onChange: e => setvatNumber(e.target.value),\n      margin: \"normal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Date of Birth\",\n      type: \"date\" // Εμφάνιση ημερολογίου\n      ,\n      value: dateOfBirth,\n      onChange: e => setDateOfBirth(e.target.value),\n      margin: \"normal\",\n      InputLabelProps: {\n        shrink: true // Για να εμφανίζεται το label σωστά\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleSubmit,\n      children: customerId ? \"Save Changes\" : \"Add Customer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(CustomerForm, \"7SHNi3qDqDrxsCnG7XaGs/PINA8=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CustomerForm;\nexport default CustomerForm;\nvar _c;\n$RefreshReg$(_c, \"CustomerForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","TextField","Button","Box","Typography","axios","jsxDEV","_jsxDEV","CustomerForm","_s","firstName","setFirstName","lastName","setLastName","vatNumber","setvatNumber","dateOfBirth","setDateOfBirth","storeId","customerId","navigate","fetchCustomer","response","get","data","error","console","handleSubmit","customerData","put","post","display","flexDirection","alignItems","mt","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","margin","type","InputLabelProps","shrink","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Knowledge/newfront/mywebapp/src/components/customerForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { TextField, Button, Box, Typography } from \"@mui/material\";\r\nimport axios from \"../api/axiosInstance.ts\";\r\n\r\nconst CustomerForm = () => {\r\n    const [firstName, setFirstName] = useState(\"\");\r\n    const [lastName, setLastName] = useState(\"\");\r\n    const [vatNumber, setvatNumber] = useState(\"\");\r\n    const [dateOfBirth, setDateOfBirth] = useState(\"\"); \r\n    const { storeId, customerId } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (customerId) {\r\n            const fetchCustomer = async () => {\r\n                try {\r\n                    const response = await axios.get(`/stores/${storeId}/customers/${customerId}`);\r\n                    setFirstName(response.data.firstName);\r\n                    setLastName(response.data.lastName);\r\n                    setvatNumber(response.data.vatNumber);\r\n                    setDateOfBirth(response.data.dateOfBirth); \r\n                } catch (error) {\r\n                    console.error(\"Error fetching customer:\", error);\r\n                }\r\n            };\r\n            fetchCustomer();\r\n        }\r\n    }, [storeId, customerId]);\r\n\r\n    const handleSubmit = async () => {\r\n        const customerData = { firstName, lastName, vatNumber, dateOfBirth }; \r\n        try {\r\n            if (customerId) {\r\n                await axios.put(`/stores/${storeId}/customers/${customerId}`, customerData);\r\n            } else {\r\n                await axios.post(`/stores/${storeId}/customers`, customerData);\r\n            }\r\n            navigate(`/stores/${storeId}/customers`);\r\n        } catch (error) {\r\n            console.error(\"Error saving customer:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" mt={5}>\r\n            <Typography variant=\"h4\">{customerId ? \"Edit Customer\" : \"Add Customer\"}</Typography>\r\n            <TextField\r\n                label=\"First Name\"\r\n                value={firstName}\r\n                onChange={(e) => setFirstName(e.target.value)}\r\n                margin=\"normal\"\r\n            />\r\n            <TextField\r\n                label=\"Last Name\"\r\n                value={lastName}\r\n                onChange={(e) => setLastName(e.target.value)}\r\n                margin=\"normal\"\r\n            />\r\n            <TextField\r\n                label=\"vatNumber\"\r\n                value={vatNumber}\r\n                onChange={(e) => setvatNumber(e.target.value)}\r\n                margin=\"normal\"\r\n            />\r\n            <TextField\r\n                label=\"Date of Birth\"\r\n                type=\"date\" // Εμφάνιση ημερολογίου\r\n                value={dateOfBirth}\r\n                onChange={(e) => setDateOfBirth(e.target.value)}\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                    shrink: true, // Για να εμφανίζεται το label σωστά\r\n                }}\r\n            />\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n                {customerId ? \"Save Changes\" : \"Add Customer\"}\r\n            </Button>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default CustomerForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}